##################################################################################################
##	
## Getting started ScyllaDB
## 
## @Official website: http://www.scylladb.com/doc/getting-started-ubuntu/
##
##################################################################################################

==================================================================================================
#### Add the Scylla APT repository 
==================================================================================================

--------------------------------------------------------------------------------------------------
# Ubuntu 14.04
--------------------------------------------------------------------------------------------------
Stable release 1.2 (recommended)

sudo wget -O /etc/apt/sources.list.d/scylla.list http://downloads.scylladb.com/deb/ubuntu/scylla-1.2-trusty.list
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
Stable release 1.1 (previous version)

sudo wget -O /etc/apt/sources.list.d/scylla.list http://downloads.scylladb.com/deb/ubuntu/scylla-1.1.list
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
Nightly unstable release (for the brave)

sudo wget -O /etc/apt/sources.list.d/scylla.list http://downloads.scylladb.com/deb/unstable/ubuntu/master/latest/scylla.list
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
# RHEL/CentOS
--------------------------------------------------------------------------------------------------

stable release 1.2.x (recommended)

Repository for RHEL/CentOS 7 and above

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/centos/scylla-1.2.repo

--------------------------------------------------------------------------------------------------

stable release 1.1.x (previous version)

Repository for RHEL/CentOS 7 and above

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/centos/scylla-1.1.repo
--------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------

nightly unstable release (for the brave)

Repository for RHEL/CentOS 7 and above

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/unstable/centos/master/latest/scylla.repo
--------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------
# Fedora
--------------------------------------------------------------------------------------------------
stable release 1.2.x (recommended)
Repository for Fedora 22

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/fedora/scylla-1.2.repo
--------------------------------------------------------------------------------------------------

--------------------------------------------------------------------------------------------------
stable release 1.1.x (previous version)
Repository for Fedora 22

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/fedora/scylla-1.1.repo
--------------------------------------------------------------------------------------------------
nightly unstable release (for the brave)

Repository for Fedora 22

sudo wget -O /etc/yum.repos.d/scylla.repo http://downloads.scylladb.com/rpm/unstable/fedora/master/latest/scylla.repo
--------------------------------------------------------------------------------------------------


==================================================================================================
####  Install
==================================================================================================

>sudo apt-get update
>sudo apt-get install scylla
--------------------------------------------------------------------------------------------------

==================================================================================================
####  Configure Scylla
==================================================================================================
Update the /etc/scylla/scylla.yaml configuration file. In particular, you must update listen_address to the IP address you want Scylla to listen to (the default is 127.0.0.1) and seed nodes in the seed_provider section to point to your cluster seeds (default is single seed node at 127.0.0.1).

Scylla 1.2 checks that the data directory is on an XFS filesystem. In order to disable this check for test installs on another filesystem, edit the /etc/scylla.d/dev-mode.conf and set its content to

DEV_MODE="--developer-mode=1"
--------------------------------------------------------------------------------------------------
==================================================================================================
####  Scylla setup
==================================================================================================
>sudo scylla_setup

This script invokes a set of scripts to configure several operating system settings. It also runs a short (up to a few minutes) benchmark on your storage and generates the /etc/scylla.d/io.conf configuration file. Once the file is ready, you can start Scylla (see below). There is no need to run scylla-io-setup again on this machine, unless you change storage. Scylla will not run without the io.conf file unless in developer mode (see above).

Details on the configuration performed by scylla_setup are in the Scylla System Configuration reference document. (If you need to install an older version of Scylla, you will need to run the individual scripts covered there.)
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
==================================================================================================
#### Run Scylla as a service
==================================================================================================
>sudo service scylla-server start
--------------------------------------------------------------------------------------------------
If Scylla starts successfully, you will see:

$ sudo service scylla-server start
scylla-server start/running, process 9367
and you are able to access the node with cqlsh:

$ cqlsh
Connected to Test Cluster at 127.0.0.1:9042.
[cqlsh 5.0.1 | Cassandra 2.1.8 | CQL spec 3.2.0 | Native protocol v3]
Use HELP for help.
If Scylla does not start up successfully and you see:

$ sudo service scylla-server start
scylla-server stop/waiting
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
==================================================================================================
####  
==================================================================================================
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
==================================================================================================
####  
==================================================================================================
==================================================================================================
####  
==================================================================================================
==================================================================================================
####  
==================================================================================================
==================================================================================================
####  
==================================================================================================
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------



==================================================================================================
####  
==================================================================================================
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------

==================================================================================================
####  
==================================================================================================
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
--------------------------------------------------------------------------------------------------
==================================================================================================
################################################################################################
# Lesson 1: Create Users and Roles
------------------------------------------------------------------------------------------------

# login as root user by: root/pivotal
------------------------------------------------------------------------------------------------
# switch gpadmin user, then start all GPDB services, and all scripts in /home/gpadmin
------------------------------------------------------------------------------------------------
>su gpadmin
>/home/gpadmin/start_all.sh
------------------------------------------------------------------------------------------------

# create user as 'lhfei1'
[gpadmin@gpdb-sandbox ~]$ createuser -P lhfei1
	Enter password for new role: 
	Enter it again: 
	Shall the new role be a superuser? (y/n) n
	Shall the new role be allowed to create databases? (y/n) y
	Shall the new role be allowed to create more new roles? (y/n) n
	NOTICE:  resource queue required -- using default resource queue "pg_default"
------------------------------------------------------------------------------------------------
# connect to the 'template1' database as gpadmin:
[gpadmin@gpdb-sandbox ~]$ psql template1
	psql (8.2.15)
	Type "help" for help.

	template1=# show tables;
	ERROR:  unrecognized configuration parameter "tables"
	template1=# 
------------------------------------------------------------------------------------------------
# create the user with the name 'lhfei2'
template1=# CREATE USER lhfei2 WITH PASSWORD 'pivotal' NOSUPERUSER;
	NOTICE:  resource queue required -- using default resource queue "pg_default"
	CREATE ROLE
------------------------------------------------------------------------------------------------
# display a list of roles
template1=# \du
						   List of roles
	 Role name |            Attributes             | Member of 
	-----------+-----------------------------------+-----------
	 gpadmin   | Superuser, Create role, Create DB | 
	 gpmon     | Superuser, Create DB              | 
	 lhfei1    |                                   | 
	 lhfei2    |                                   | 
------------------------------------------------------------------------------------------------
# create a users group and add the users to it
template1=# create role lhfei;
	NOTICE:  resource queue required -- using default resource queue "pg_default"
	CREATE ROLE
template1=# grant lhfei to lhfei1,lhfei2;
	GRANT ROLE
template1=# \du
						   List of roles
	 Role name |            Attributes             | Member of 
	-----------+-----------------------------------+-----------
	 gpadmin   | Superuser, Create role, Create DB | 
	 gpmon     | Superuser, Create DB              | 
	 lhfei     | Cannot login                      | 
	 lhfei1    |                                   | {lhfei}
	 lhfei2    |                                   | {lhfei}

------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
################################################################################################
# Lesson 2: Create and Prepare Database
------------------------------------------------------------------------------------------------
# create database tutorial
[gpadmin@gpdb-sandbox ~]$ createdb tutorial
------------------------------------------------------------------------------------------------
# verify that the database was created using the 'psql -l' command
[gpadmin@gpdb-sandbox ~]$ psql -l
					  List of databases
	   Name    |  Owner  | Encoding |  Access privileges  
	-----------+---------+----------+---------------------
	 gpadmin   | gpadmin | UTF8     | 
	 gpperfmon | gpadmin | UTF8     | gpadmin=CTc/gpadmin 
									: =c/gpadmin
	 postgres  | gpadmin | UTF8     | 
	 template0 | gpadmin | UTF8     | =c/gpadmin          
									: gpadmin=CTc/gpadmin
	 template1 | gpadmin | UTF8     | =c/gpadmin          
									: gpadmin=CTc/gpadmin
	 tutorial  | gpadmin | UTF8     | 
	(6 rows)
------------------------------------------------------------------------------------------------
# connect to the tutorial database as 'lhfei1'

------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------
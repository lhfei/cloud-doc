import{d as f,u as d,c as e,bl as h}from"./index.c5429249.js";import{_ as m}from"./lodash.084a01e7.js";import{f as g}from"./common.145f2eef.js";import{e as w,f as y}from"./index.8259a597.js";import{F as b}from"./FormOutlined.848330c3.js";import{E as F}from"./EditOutlined.af3970b8.js";import{D as N}from"./DownloadOutlined.8c21680b.js";import{I as R}from"./InfoCircleFilled.46393fdc.js";import{D as v}from"./DeleteOutlined.e68b06d7.js";import{N as l}from"./Tooltip.d759bd4b.js";import{N as n}from"./Button.c43a24dc.js";import{N as o}from"./Icon.8e3bf5ec.js";import{N as D}from"./Popconfirm.83d41c5f.js";import{N as x}from"./Space.e50db48f.js";import"./SettingOutlined.716a0298.js";import"./PauseCircleOutlined.813adbbb.js";import"./CloseCircleOutlined.46c86330.js";import"./CheckCircleOutlined.6daee0ce.js";import"./ClockCircleOutlined.6c97131a.js";import"./index.a2051d72.js";import"./service.0215c8a4.js";import"./Popover.df2981b4.js";import"./index.3e01cddc.js";import"./flatten.a7868693.js";import"./Scrollbar.12b40993.js";import"./fade-in.cssr.9da325c6.js";import"./VResizeObserver.14b04bb7.js";import"./format-length.e7c2072e.js";import"./utils.3eee947a.js";import"./resolve-slot.7c241306.js";import"./use-compitable.b0459e69.js";import"./next-frame-once.da993024.js";import"./is-browser.d3e5def6.js";import"./use-rtl.c78ffbd8.js";import"./use-locale.be539345.js";import"./keysOf.963e6f6c.js";import"./get-slot.c85d6606.js";import"./index.16077d24.js";const C={show:{type:Boolean,default:!1},row:{type:Object,default:{id:-1,name:"",description:""}}};var ge=f({name:"TableAction",props:C,emits:["updateList","renameResource"],setup(t,{emit:i}){const{t:u}=d(),p=h();return{t:u,rtDisb:(r,s)=>{const a=r.lastIndexOf("."),c=r.substring(a,r.length);return!(m.includes(g,m.trimStart(c,"."))&&s<1e6)},handleEditFile:r=>{p.push({name:"resource-file-edit",params:{id:r.id}})},handleDeleteFile:r=>{w(r).then(()=>i("updateList"))},handleRenameFile:(r,s,a)=>{i("renameResource",r,s,a)},...t}},render(){const{t}=d();return e(x,null,{default:()=>[e(l,{trigger:"hover"},{default:()=>t("resource.file.edit"),trigger:()=>e(n,{size:"tiny",type:"info",disabled:this.rtDisb(this.row.name,this.row.size),tag:"div",onClick:()=>{this.handleEditFile(this.row)},style:{marginRight:"-5px"},circle:!0,class:"btn-edit"},{default:()=>[e(o,null,{default:()=>[e(b,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.rename"),trigger:()=>e(n,{size:"tiny",type:"info",onClick:()=>this.handleRenameFile(this.row.id,this.row.name,this.row.description),style:{marginRight:"-5px"},circle:!0,class:"btn-rename"},{default:()=>[e(o,null,{default:()=>[e(F,null,null)]})]})}),e(l,{trigger:"hover"},{default:()=>t("resource.file.download"),trigger:()=>{var i;return e(n,{size:"tiny",type:"info",disabled:!!((i=this.row)!=null&&i.directory),tag:"div",circle:!0,style:{marginRight:"-5px"},onClick:()=>y(this.row.id),class:"btn-download"},{default:()=>[e(o,null,{default:()=>[e(N,null,null)]})]})}}),e(l,{trigger:"hover"},{default:()=>t("resource.file.delete"),trigger:()=>e(n,{size:"tiny",type:"error",circle:!0,class:"btn-delete"},{default:()=>[e(D,{"positive-text":t("resource.file.confirm"),"negative-text":t("resource.file.cancel"),onPositiveClick:()=>{this.handleDeleteFile(this.row.id)}},{default:()=>t("resource.file.delete_confirm"),icon:()=>e(o,null,{default:()=>[e(R,null,null)]}),trigger:()=>e(o,null,{default:()=>[e(v,null,null)]})})]})})]})}});export{ge as default};

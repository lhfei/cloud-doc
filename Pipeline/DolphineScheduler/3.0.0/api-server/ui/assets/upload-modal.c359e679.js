import{d as p,t as s,u,c as o}from"./index.c5429249.js";import{M as d}from"./index.20e11ec3.js";import{u as n,a as f}from"./use-modal.3238aac7.js";import{C as c}from"./CloudUploadOutlined.2cbd7c1d.js";import{N as h}from"./Form.13999875.js";import{N as a}from"./FormItem.51e71cc3.js";import{N as i}from"./Input.97d5419b.js";import{N as F}from"./Upload.6ed710a6.js";import{N}from"./Button.c43a24dc.js";import{N as v}from"./Icon.8e3bf5ec.js";import"./index.3b9f9e63.js";import"./keysOf.963e6f6c.js";import"./Card.c707a1eb.js";import"./use-rtl.c78ffbd8.js";import"./resolve-slot.7c241306.js";import"./index.16077d24.js";import"./index.3e01cddc.js";import"./flatten.a7868693.js";import"./Scrollbar.12b40993.js";import"./fade-in.cssr.9da325c6.js";import"./VResizeObserver.14b04bb7.js";import"./fade-in-scale-up.cssr.05526022.js";import"./utils.3eee947a.js";import"./is-browser.d3e5def6.js";import"./Space.e50db48f.js";import"./get-slot.c85d6606.js";import"./file.0dabb2be.js";import"./index.8259a597.js";import"./service.0215c8a4.js";import"./lodash.084a01e7.js";import"./format-length.e7c2072e.js";import"./use-locale.be539345.js";import"./Suffix.9ee1fead.js";import"./Add.e846b00c.js";import"./Image.f79a9674.js";import"./Tooltip.d759bd4b.js";import"./Popover.df2981b4.js";import"./use-compitable.b0459e69.js";import"./next-frame-once.da993024.js";const R={show:{type:Boolean,default:!1}};var so=p({name:"ResourceFileFolder",props:R,emits:["update:show","updateList"],setup(t,r){const{uploadState:e}=n(),{handleUploadFile:m}=f(e,r);return{hideModal:()=>{e.uploadForm.name="",e.uploadForm.description="",e.uploadForm.file="",r.emit("update:show")},handleFolder:()=>{m()},customRequest:({file:l})=>{e.uploadForm.name=l.name,e.uploadForm.file=l.file,e.uploadFormRef.validate()},removeFile:()=>{e.uploadForm.name="",e.uploadForm.file=""},...s(e)}},render(){const{t}=u();return o(d,{show:this.$props.show,title:t("resource.udf.file_upload"),onCancel:this.hideModal,onConfirm:this.handleFolder,confirmClassName:"btn-submit",cancelClassName:"btn-cancel",confirmLoading:this.saving},{default:()=>[o(h,{rules:this.rules,ref:"uploadFormRef"},{default:()=>[o(a,{label:t("resource.udf.file_name"),path:"name"},{default:()=>[o(i,{value:this.uploadForm.name,"onUpdate:value":r=>this.uploadForm.name=r,placeholder:t("resource.udf.enter_name_tips"),class:"input-file-name"},null)]}),o(a,{label:t("resource.udf.description"),path:"description"},{default:()=>[o(i,{type:"textarea",value:this.uploadForm.description,"onUpdate:value":r=>this.uploadForm.description=r,placeholder:t("resource.udf.enter_description_tips"),class:"input-description"},null)]}),o(a,{label:t("resource.udf.upload_files"),path:"file"},{default:()=>[o(F,{value:this.uploadForm.file,"onUpdate:value":r=>this.uploadForm.file=r,customRequest:this.customRequest,max:1,class:"btn-upload",onRemove:this.removeFile},{default:()=>[o(N,null,{default:()=>[t("resource.udf.upload"),o(v,null,{default:()=>[o(c,null,null)]})]})]})]})]})]})}});export{so as default};

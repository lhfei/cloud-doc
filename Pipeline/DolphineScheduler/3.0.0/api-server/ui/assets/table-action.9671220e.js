import{d as c,bB as p,bz as m,bA as f,t as h,u as w,c as e,bl as g}from"./index.c5429249.js";import{F as S}from"./FormOutlined.848330c3.js";import{S as C}from"./SyncOutlined.859a474f.js";import{C as b}from"./CloseCircleOutlined.46c86330.js";import{P as u}from"./PlayCircleOutlined.7616d1e9.js";import{P as k}from"./PauseCircleOutlined.813adbbb.js";import{I as v}from"./InfoCircleFilled.46393fdc.js";import{D as E}from"./DeleteOutlined.e68b06d7.js";import{C as N}from"./ControlOutlined.6fd04d4e.js";import{N as i}from"./Tooltip.d759bd4b.js";import{N as n}from"./Button.c43a24dc.js";import{N as o}from"./Icon.8e3bf5ec.js";import{N as R}from"./Popconfirm.83d41c5f.js";import{N as y}from"./Space.e50db48f.js";import"./Popover.df2981b4.js";import"./index.3e01cddc.js";import"./flatten.a7868693.js";import"./Scrollbar.12b40993.js";import"./fade-in.cssr.9da325c6.js";import"./VResizeObserver.14b04bb7.js";import"./format-length.e7c2072e.js";import"./utils.3eee947a.js";import"./resolve-slot.7c241306.js";import"./use-compitable.b0459e69.js";import"./next-frame-once.da993024.js";import"./is-browser.d3e5def6.js";import"./use-rtl.c78ffbd8.js";import"./use-locale.be539345.js";import"./keysOf.963e6f6c.js";import"./get-slot.c85d6606.js";import"./index.16077d24.js";const O={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},P=f("path",{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8L295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512L196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1l216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z",fill:"currentColor"},null,-1),I=[P];var U=c({name:"CloseOutlined",render:function(t,a){return p(),m("svg",O,I)}});const _={row:{type:Object,required:!0}};var me=c({name:"TableAction",props:_,emits:["updateList","reRun","reStore","stop","suspend","deleteInstance"],setup(r,t){const a=g();return{handleEdit:()=>{a.push({name:"workflow-instance-detail",params:{id:r.row.id},query:{code:r.row.processDefinitionCode}})},handleReRun:()=>{t.emit("reRun")},handleReStore:()=>{t.emit("reStore")},handleStop:()=>{t.emit("stop")},handleSuspend:()=>{t.emit("suspend")},handleDeleteInstance:()=>{t.emit("deleteInstance")},handleGantt:()=>{a.push({name:"workflow-instance-gantt",params:{id:r.row.id},query:{code:r.row.processDefinitionCode}})},...h(r)}},render(){var a;const{t:r}=w(),t=(a=this.row)==null?void 0:a.state;return e(y,null,{default:()=>[e(i,{trigger:"hover"},{default:()=>r("project.workflow.edit"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"info",circle:!0,class:"btn-edit",disabled:t!=="SUCCESS"&&t!=="PAUSE"&&t!=="FAILURE"&&t!=="STOP"||((l=this.row)==null?void 0:l.disabled),onClick:this.handleEdit},{default:()=>[e(o,null,{default:()=>[e(S,null,null)]})]})}}),e(i,{trigger:"hover"},{default:()=>r("project.workflow.rerun"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"info",circle:!0,onClick:this.handleReRun,class:"btn-rerun",disabled:t!=="SUCCESS"&&t!=="PAUSE"&&t!=="FAILURE"&&t!=="STOP"||((l=this.row)==null?void 0:l.disabled)},{default:()=>{var s,d;return[((s=this.row)==null?void 0:s.buttonType)==="run"?e("span",null,[(d=this.row)==null?void 0:d.count]):e(o,null,{default:()=>[e(C,null,null)]})]}})}}),e(i,{trigger:"hover"},{default:()=>r("project.workflow.recovery_failed"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"primary",circle:!0,onClick:this.handleReStore,disabled:t!=="FAILURE"||((l=this.row)==null?void 0:l.disabled)},{default:()=>{var s,d;return[((s=this.row)==null?void 0:s.buttonType)==="store"?e("span",null,[(d=this.row)==null?void 0:d.count]):e(o,null,{default:()=>[e(b,null,null)]})]}})}}),e(i,{trigger:"hover"},{default:()=>r(t==="STOP"?"project.workflow.recovery_suspend":"project.workflow.stop"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"error",circle:!0,onClick:this.handleStop,disabled:t!=="RUNNING_EXECUTION"&&t!=="STOP"||((l=this.row)==null?void 0:l.disabled)},{default:()=>[e(o,null,{default:()=>[t==="STOP"?e(u,null,null):e(U,null,null)]})]})}}),e(i,{trigger:"hover"},{default:()=>r(t==="PAUSE"?"project.workflow.recovery_suspend":"project.workflow.pause"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"warning",circle:!0,disabled:t!=="RUNNING_EXECUTION"&&t!=="PAUSE"||((l=this.row)==null?void 0:l.disabled),onClick:this.handleSuspend},{default:()=>[e(o,null,{default:()=>[t==="PAUSE"?e(u,null,null):e(k,null,null)]})]})}}),e(i,{trigger:"hover"},{default:()=>r("project.workflow.delete"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"error",circle:!0,disabled:t!=="SUCCESS"&&t!=="FAILURE"&&t!=="STOP"&&t!=="PAUSE"||((l=this.row)==null?void 0:l.disabled)},{default:()=>[e(R,{onPositiveClick:this.handleDeleteInstance},{default:()=>r("project.workflow.delete_confirm"),icon:()=>e(o,null,{default:()=>[e(v,null,null)]}),trigger:()=>e(o,null,{default:()=>[e(E,null,null)]})})]})}}),e(i,{trigger:"hover"},{default:()=>r("project.workflow.gantt"),trigger:()=>{var l;return e(n,{tag:"div",size:"small",type:"info",circle:!0,disabled:(l=this.row)==null?void 0:l.disabled,onClick:this.handleGantt},{default:()=>[e(o,null,{default:()=>[e(N,null,null)]})]})}})]})}});export{me as default};

import{d as j,a as x,j as v,o as P,u as C,c as a,ae as p,bH as V,_ as $}from"./index.c5429249.js";import{v as N}from"./index.31c70196.js";import{N as g}from"./Button.c43a24dc.js";import"./service.0215c8a4.js";import"./lodash.084a01e7.js";import"./is-browser.d3e5def6.js";import"./use-rtl.c78ffbd8.js";import"./resolve-slot.7c241306.js";const O="_variable_atwg8_17",R="_list_atwg8_21",B="_name_atwg8_32",E="_fa_atwg8_35";var t={variable:O,list:R,"var-cont":"_var-cont_atwg8_25",name:B,fa:E,"list-t":"_list-t_atwg8_54","task-name":"_task-name_atwg8_58"};function A(i){return typeof i=="function"||Object.prototype.toString.call(i)==="[object Object]"&&!$(i)}var M=j({name:"variables-view",emits:["copy"],setup(i,s){const o=x(),m=V(),u=Number(m.params.projectCode),_=Number(m.params.id),b=v(()=>o.value?o.value.globalParams:[]),f=v(()=>o.value?o.value.localParams:{}),h=()=>{N(_,u).then(e=>{o.value=e})},d=e=>{s.emit("copy",e)},y=(e,n)=>{const l=[];return Object.keys(e).forEach(r=>{n==="SQL"||n==="PROCEDURE"?r!=="direct"&&r!=="type"&&l.push(`${r}=${e[r]}`):l.push(`${r}=${e[r]}`)}),l.join(" ")},w=(e,n,l)=>{let r;return a(g,{key:e,type:"primary",style:"margin-right: 10px",onClick:()=>d(y(l,n))},A(r=Object.keys(l).map(c=>n==="SQL"||n==="PROCEDURE"?c!=="direct"&&c!=="type"?a("span",{style:"margin-right: 5px"},[a("strong",{style:"color: #2A455B;"},[c]),p(" = "),l[c]]):"":a("span",{style:"margin-right: 5px"},[a("strong",{style:"color: #2A455B;"},[c]),p(" = "),l[c]])))?r:{default:()=>[r]})};return P(()=>{h()}),{globalParams:b,localParams:f,localButton:w,handleCopy:d}},render(){const{t:i}=C();return a("div",{class:t.variable},[a("div",{class:t.list},[a("div",{class:t.name},[a("em",{class:"ri-code-s-slash-line"},null),a("strong",{style:"padding-top: 3px;display: inline-block"},[i("project.workflow.global_parameters")])]),a("div",{class:t["var-cont"]},[this.globalParams.map((s,o)=>a(g,{key:o,type:"primary",style:{marginRight:"5px"},onClick:()=>this.handleCopy(`${s.prop}=${s.value}`)},{default:()=>[a("strong",{style:"color: #2A455B; margin-right: 4px"},[s.prop])," ",p("= "),s.value]}))])]),a("div",{class:t.list,style:"height: 30px;"},[a("div",{class:t.name},[a("em",{class:"ri-code-s-slash-line"},null),a("strong",{style:"padding-top: 3px;display: inline-block"},[i("project.workflow.local_parameters")])]),a("div",{class:t["var-cont"]},[p("\xA0")])]),Object.keys(this.localParams).map((s,o)=>a("div",{class:`${t.list} ${t["list-t"]}`},[a("div",{class:t["task-name"]},[p("Task("),o,p("): "),s]),a("div",{class:t["var-cont"]},[this.localParams[s].localParamsList.map((m,u)=>this.localButton(u,this.localParams[s].taskType,m))])]))])}});export{M as default};

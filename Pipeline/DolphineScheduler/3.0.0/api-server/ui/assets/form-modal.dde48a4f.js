import{u as n,r as p,a as u,d as f,o as l,t as c,c as e}from"./index.c5429249.js";import{M as d}from"./index.20e11ec3.js";import{m as y}from"./index.bbd47aff.js";import{N as v}from"./Form.13999875.js";import{N as g}from"./FormItem.51e71cc3.js";import{N as h}from"./Input.97d5419b.js";import"./index.3b9f9e63.js";import"./Button.c43a24dc.js";import"./is-browser.d3e5def6.js";import"./use-rtl.c78ffbd8.js";import"./resolve-slot.7c241306.js";import"./keysOf.963e6f6c.js";import"./Card.c707a1eb.js";import"./index.16077d24.js";import"./index.3e01cddc.js";import"./flatten.a7868693.js";import"./Scrollbar.12b40993.js";import"./fade-in.cssr.9da325c6.js";import"./VResizeObserver.14b04bb7.js";import"./fade-in-scale-up.cssr.05526022.js";import"./utils.3eee947a.js";import"./Space.e50db48f.js";import"./get-slot.c85d6606.js";import"./service.0215c8a4.js";import"./lodash.084a01e7.js";import"./format-length.e7c2072e.js";import"./use-locale.be539345.js";import"./Suffix.9ee1fead.js";function D(){const{t}=n(),o=p({formRef:u(),formData:{queueId:0,priority:0},saving:!1,rules:{priority:{required:!0,trigger:["input","blur"],validator(){if(!(o.formData.priority+""&&o.formData.priority>=0))return new Error(t("resource.task_group_queue.priority_not_empty"))}}}});return{state:o,t}}const _={show:{type:Boolean,default:!1},data:{type:Object}},W=f({name:"FormModal",props:_,emits:["confirm","cancel"],setup(t,{emit:o}){const{state:r,t:i}=D();l(()=>{r.formData.queueId=t.data.queueId,r.formData.priority=t.data.priority});const a=async()=>{if(!r.saving){r.saving=!0;try{r.formData.priority+""&&(await y(r.formData),o("confirm")),r.saving=!1}catch{r.saving=!1}}},m=()=>{r.formData.priority=0,o("cancel")};return{...c(r),t:i,onConfirm:a,onCancel:m}},render(){const{t,onConfirm:o,onCancel:r,show:i}=this;return e(d,{title:t("resource.task_group_queue.edit_priority"),show:i,onConfirm:o,onCancel:r,confirmLoading:this.saving},{default:()=>[e(v,{rules:this.rules,ref:"formRef"},{default:()=>[e(g,{label:t("resource.task_group_queue.priority"),path:"priority"},{default:()=>[e(h,{value:this.formData.priority,"onUpdate:value":a=>this.formData.priority=a},null)]})]})]})}});export{W as default};
